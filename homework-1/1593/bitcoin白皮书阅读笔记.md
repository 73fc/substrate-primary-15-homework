# Bitcoin 白皮书阅读笔记

其实如果算起来的话，2019年刚刚开始我的转行学习计划的时候，那时候是第一次读 bitcoin 的白皮书，但是以当时的基础，其中内容实感晦涩难懂。经历过三年多的开发实践，这一次借助 Substrate 开发训练营的机会，得以重新去阅读学习 bitcoin 白皮书，正好借这个机会可以梳理一下过去的一些没明白的内容。

当然，基于我目前的个人兴趣，我这一次的笔记只会涉及到部分内容，当然，没有提到的内容并不代表他们不重要，只是以我目前的兴趣和理解程度，确实不敢妄言多少，以后我会再跟进更新。

## Bitcoin 到底是什么

可能出乎大多数刚刚了解 bitcoin 的人的意料，中本聪在 bitcoin 白皮书当中对其的定位并非是一种电子货币，而是 “一种使用点对点网络解决双重支付问题的方案” 。贯穿整个白皮书，中本聪在反复去强调，bitcoin 整个系统只是记录参与使用这个系统的用户的全部的交易数据，其中使用一个代号叫做 bitcoin 的电子货币作为这里交易的媒介来记录。所以，在讨论 bitcoin 的技术实现时，我们直接说的是整个交易系统而非一个叫做 bitcoin 的电子货币。

## Bitcoin 与区块链技术的关系

Bitcoin 系统本身是记录一连串的交易的账本，这一系列的记录是个非常庞大的数据量，因此，在 bitcoin 的设计当中，我们可以把整个大的记录分切成一个又一个小的记录块，这个小记录块我们在英语环境下直接叫 block ，中文环境下叫 “区块”，而为了保持这些记录的连贯性，bitcoin 引入了每个记录里参与交易的账户的数字签名来作为这些区块的链接，而这样的数据结构我们抽象出来，就是我们所说的区块链了。所以，我们在讨论区块链与 bitcoin 的关系时，便有如下结论：区块链技术是 bitcoin 的底层技术支撑，bitcoin 则是区块链技术的一个应用。

## 如何管理记录时的磁盘空间

作为一个记录的系统，bitcoin 在记录这些交易的过程中必然要占用磁盘空间，尽管按照 bitcoin 的白皮书的说法，每个不包含交易的区块头大约是 80 bytes，如果每 10 分钟生成一个区块，每年生成 80 bytes * 6 * 24 * 365 = 4.2 MB，但由于 bitcoin 的网络广播机制，其中必然有交易记录的冗余，为了节省掉这些冗余的磁盘占用，bitcoin 采用的策略是一旦某个最新交易已经被足够多的区块覆盖，这之前的支付交易就可以被丢弃以节省磁盘空间。为便于此而又不破坏区块的哈希值，交易将被哈希进默克尔树 ，只有根节点被纳入到区块的哈希值。老的区块可通过剪除树枝的方式被压缩。树枝内部的哈希不需要被保存。这个方法是非常精妙的设计，在保证了链上的全部交易可追溯的同时，也消除了链上数据冗余导致可能的攻击的风险。

## Bitcoin 如何保证交易的隐私

由于 bitcoin 的全部交易记录是公开的，因此在对于参与交易的各方的隐私，并不能像中心化系统一样通过限制参与方和可信任第三方对信息的访问来达到保护隐私的作用，针对于此，bitcoin 使用保持公钥匿名的手段保护交易方的隐私，公众能看到有人正在发送一定量货币给其他人，但是不能将交易关联到某个人。当然，正因如此，妥善保管私钥也对于用户极为重要。

## 关于其他内容

其实 bitcoin 白皮书所介绍的内容，远不止上面所提到的这几个，包括 uxto、PoW 共识机制，考虑到对于这些内容我仍然需要花时间研读理解，此次我暂时不做叙述，在后期有更多理解的时候，我将做及时的完善补充。
